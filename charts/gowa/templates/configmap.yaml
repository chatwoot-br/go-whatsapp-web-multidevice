apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "gowa.fullname" . }}-supervisor-config
  labels:
    {{- include "gowa.labels" . | nindent 4 }}
data:
  supervisord.conf: |
    [inet_http_server]
    port=0.0.0.0:9001
    username=admin
    password=admin123

    [supervisord]
    logfile=/var/log/supervisor/supervisord.log
    pidfile=/var/run/supervisord.pid
    childlogdir=/var/log/supervisor
    nodaemon=true
    user=root
    loglevel=debug

    [rpcinterface:supervisor]
    supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

    [supervisorctl]
    serverurl=http://127.0.0.1:9001
    username=admin
    password=admin123

    [include]
    files = /etc/supervisor/conf.d/*.conf
